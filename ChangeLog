2006-10-23  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch.el (navi2ch): navi2ch-update-file navi2ch-init-file の
	load の仕方を変更

	* navi2ch-board-misc.el (navi2ch-bm-mode-map): prefix key ("m") に
	nil を割り当てておく
	(navi2ch-bm-fetch-mark-article): navi2ch-net-connect-wait でウェイ
	トを入れるようにしたので navi2ch-bm-fetch-wait を使用しない

	* navi2ch-bookmark.el (navi2ch-bookmark-fetch-mark-article): 同上

	* navi2ch-vars.el (navi2ch-bm-fetch-wait): 削除

2006-10-22  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-assoc-ignore-case): 新関数
	(navi2ch-replace-html-tag-to-string):
	assoc-ignore-case -> navi2ch-assoc-ignore-case
	(navi2ch-numeric-reference-to-str):
	string-to-int -> string-to-number
	(navi2ch-end-of-buffer): call-interactively 'end-of-buffer
	(navi2ch-make-local-hook): 新関数

	* navi2ch-popup-article.el (navi2ch-popup-article-mode):
	make-local-hook -> navi2ch-make-local-hook

	* navi2ch-net.el (navi2ch-net-get-header):
	assoc-ignore-case -> navi2ch-assoc-ignore-case

	* navi2ch-multibbs.el (navi2ch-multibbs-defcallback):
	gensym -> make-symbol

	* navi2ch-message.el (navi2ch-message-insert-backup):
	insert-buffer -> insert-buffer-substring
	(navi2ch-message-send-message): 同上

	* navi2ch-article.el (navi2ch-article-mode): make-local-hook
	ではなく navi2ch-make-local-hook を使う

	emacs-22 cleanup

2006-10-22  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-jbbs-shitaraba.el (navi2ch-js-send-message-success-p): 
	patch#1229486

2006-10-22  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-message-sendlog-message-format-function):
	グループを追加

	* navi2ch-util.el (navi2ch-float-time): 新関数

	* navi2ch-net.el (navi2ch-net-connect-wait-power): 新変数
	(navi2ch-net-connect-time-list): 新変数
	(navi2ch-net-connect-wait): 上記変数を使用して待機時間を計算
	(navi2ch-net-send-request): 上記時間を挿入

	patch#1187825,1188245

2006-10-22  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-history.el (navi2ch-history-add): history に必要な情報の
	みを記録

	patch#1166324

2006-10-22  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch.el (navi2ch): 同上
	(navi2ch-save-info): 同上
	(navi2ch-load-info): 同上
	(navi2ch-update): 同上

	* navi2ch-auto-modify.el (navi2ch-auto-modify-save): 同上

	* navi2ch-vars.el (navi2ch-init-file): navi2ch-directory からの相対
	パスに
	(navi2ch-bm-fetched-info-file): 同上
	(navi2ch-bookmark-file): 同上
	(navi2ch-history-file): 同上
	(navi2ch-update-file): 同上
	(navi2ch-auto-modify-file): 同上

	patch#1146248

2006-10-22  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-coding-system): navi2ch-vars.el に移動

	* navi2ch-vars.el (navi2ch-coding-system): navi2ch-util.el から移動
	(navi2ch-board-coding-system-alist): 上記変数を使用

	patch#1124650

2006-09-14  NOKUBI Takatsugu  <knok@daionet.gr.jp>

	* doc/navi2ch.texi (How to Write): FAQに書き込み時の確認を回避
	  する方法に付いて言及

2006-07-06  NOKUBI Takatsugu  <knok@daionet.gr.jp>

	* navi2ch-oyster.el (navi2ch-oyster-send-message): hanamogera-cookie
	  対応処理を追加
	  (navi2ch-oyster-func-alist): extract-postを追加

2006-07-03  Masatake YAMATO  <jet@gyve.org>

        * navi2ch-multibbs.el (navi2ch-multibbs-func-alist): extract-post
	 を追加。
        (navi2ch-multibbs-func-alist): SEND-MESSAGE-FUNCにPOST引数を追加。
        (navi2ch-multibbs-send-message): extract-postを取得して、再送前に
         呼び出すことで、バッファをスキャンするして再送に必要な情報を得ること
         ができるようにした。送信試行の最大回数を元に脅した。hanamogera-cookie
         をpost-dataとして一般化した。
        (navi2ch-2ch-extract-post): navi2ch-multibbs-get-hanamogera-cookieから
         名前を変更した。
        (navi2ch-2ch-send-message): ダイナミックスコープからhanamogera-cookieを
         捜すのではなく、POSTという引数を追加して、そこからhanamogera-cookieを
	 キーとしてassqして、hanamogera-cookieの値を取り出せるようにした。
        * navi2ch-jbbs-net.el (navi2ch-jbbs-get-writecgi-url): 引数POSTを追加
	 した。
        * navi2ch-jbbs-shitaraba.el (navi2ch-js-send-message): 引数POSTを追加
	 した。
        * navi2ch-localfile.el (navi2ch-localfile-send-message): 引数POSTを追加
	 した。
        * navi2ch-machibbs.el (navi2ch-machibbs-send-message): 引数POSTを追加
	 した。
        * navi2ch-oyster.el (navi2ch-oyster-send-message): 引数POSTを追加した。
	
2006-07-02  Masatake YAMATO  <jet@gyve.org>

       * navi2ch-multibbs.el (navi2ch-multibbs-send-message): hana mogera 
	 cookieに対応。
       (navi2ch-multibbs-get-hanamogera-cookie): バッファからhana mogera 
	 cookieを追加する。
       (navi2ch-2ch-send-message): hanamogera-cookieが定義されていれば、
       param-alistに追加する。
       (navi2ch-multibbs-send-message): hanamogera-cookieをセット。

2006-06-10  NOKUBI Takatsugu  <knok@daionet.gr.jp>

	* クレジット入れ忘れのため削除依頼に対応

2006-05-29  NOKUBI Takatsugu  <knok@daionet.gr.jp>

	* navi2ch-multibbs.el: 2ch側の新しい書き込みチェックに対応
	  (hana patch)

2005-09-20  NOKUBI Takatsugu  <knok@daionet.gr.jp>

	* navi2ch-list.el (navi2ch-list-bbstable-default-url): bbsmenu URL
	  を変更

2005-04-20  mami  <mami@users.sourceforge.net>

	バーボン対策でウェイトを入れるように。
	http://pc8.2ch.net/test/read.cgi/unix/1106152504/841-847n

	* navi2ch-vars.el (navi2ch-bm-fetch-wait): 新変数。

	* navi2ch-board-misc.el (navi2ch-bm-fetch-mark-article): 上記変数
	を使うように。

	* navi2ch-bookmark.el (navi2ch-bookmark-fetch-mark-article): 同上。

2005-03-16  extra  <ekisutora@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-update-previous-message-separator): スレの1レス目
	がhideされたときにエラーにならないように。

2005-02-19  mami  <mami@users.sourceforge.net>

	* navi2ch-board-misc.el (navi2ch-bm-fetch-mark-article): offline
	のときはすぐ終了するように。
	(navi2ch-bm-fetch-maybe-new-articles): 同上。

	* navi2ch-bookmark.el (navi2ch-bookmark-fetch-mark-article): 同上。

2005-02-18  mami  <mami@users.sourceforge.net>

	* NEWS: 更新。

2005-02-14  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-message.el (navi2ch-message-mode-map):
	C-a, M-m を navi2ch-message-substitute-key-definitions() に移す。
	(navi2ch-message-substitute-key-definitions): 新関数。
	(navi2ch-message-mode): 上記関数を呼ぶように。

2005-02-14  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-article.el
	(navi2ch-article-update-previous-message-separator):
	現在位置がbuffer の最後の場合 end を point-max() とするように。
	現在位置をそれなりに保存するように。
	(navi2ch-article-insert-messages):
	後でレスの先頭に文字列を挿入するときの為に、message を挿入した場合
	は、point で示される marker の insertion-type を t にするように。
	(navi2ch-article-reinsert-partial-messages): 上記変更の為、ここで
	一時的に insertion-type を t にするのをやめる。

2005-02-11  mami  <mami@users.sourceforge.net>

	XEmacs の forward-comment はバッファの最後で t を返す模様。
	http://list-archive.xemacs.org/xemacs-beta/200210/msg00522.html
	* navi2ch-auto-modify.el (navi2ch-auto-modify-skip-comments): 新関
	数。
	(navi2ch-auto-modify-narrow): 上記関数を使用。
	(navi2ch-auto-modify-save-variables): 同上。

2005-02-10  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-article.el
	(navi2ch-article-insert-message-separator-by-char): face を付ける
	ように。

	* navi2ch-face.el (navi2ch-article-message-separator-face): 新 face。

2005-02-08  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-article.el
	(navi2ch-article-update-previous-message-separator):
	previous-single-property-change でいきなりセパレータの最初にいっちゃ
	う場合があったので対処。
	(navi2ch-article-insert-message-separator):
	navi2ch-article-message-separator-insert-hide-number-p,
	navi2ch-article-message-separator-insert-trailing-newline-p
	を見るように。
	(navi2ch-article-insert-message): 最後の改行入れるのを
	navi2ch-article-insert-message-separator() に移す。

	* navi2ch-vars.el
	(navi2ch-article-message-separator-insert-hide-number-p): 新変数。
	(navi2ch-article-message-separator-insert-trailing-newline-p): 同上。

2005-02-06  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	http://pc5.2ch.net/test/read.cgi/unix/1106152504/68 の要望をかなえ
	る為の修正。
	- navi2ch-bm.el のいくつかの defsubst な関数を defun に。
	- navi2ch-file-mtime, navi2ch-file-size の追加。
	- navi2ch-article-local-dat-regexp,
	navi2ch-article-file-name-to-artid の追加。

	navi2ch-localfile では navi2ch-article-local-dat-regexp,
	navi2ch-article-file-name-to-artid を**わざと**使うようにしてない。
	理由は下のパッチがそうなっていなかった為。なんでそうしてなかったか
	を聞いとく事。

	* navi2ch-util.el (navi2ch-file-mtime, navi2ch-file-size): 新関数。

	* navi2ch-article.el (navi2ch-article-local-dat-regexp): 新変数。
	(navi2ch-article-file-name-to-artid): 新関数。

	* navi2ch-board-misc.el
	(navi2ch-bm-set-property, navi2ch-bm-get-state-from-article) 
	(navi2ch-bm-insert-subject): defsubst -> defun.

	* navi2ch.el (navi2ch-update): navi2ch-file-mtime,
	navi2ch-file-size を使うように。

	* navi2ch-oyster.el (navi2ch-oyster-get-offlaw-url): 同上。

	* navi2ch-net.el (navi2ch-net-update-file)
	(navi2ch-net-update-file-diff): 同上。

	* navi2ch-localfile.el (navi2ch-localfile-update-file): 同上。

	* navi2ch-article.el (navi2ch-article-sync)
	(navi2ch-article-get-readcgi-raw-url): 同上。

	* navi2ch-board.el (navi2ch-board-expire-date-p): 同上。

	* navi2ch-search.el (navi2ch-search-for-each-article):
	navi2ch-article-file-name-to-artid,
	navi2ch-article-local-dat-regexp を使うように。
	(navi2ch-search-article-regexp, navi2ch-search-cache)
	(navi2ch-search-orphan): 同上。

	* navi2ch-directory.el (navi2ch-directory-set-subject-list): 同上。

	* navi2ch-board.el (navi2ch-board-expire): 同上。

	* navi2ch-article.el (navi2ch-article-view-article-from-file): 同上。

2005-02-05  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-util.el (navi2ch-read-only-string): まずってた。。

2005-02-05  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	header field の read-only 化。
	* navi2ch-message.el (navi2ch-message-insert-header): Subject とか
	を read-only にしてみる。
	header が終わる箇所に navi2ch-message-header-separator という
	property を付ける。
	(navi2ch-message-header-end): navi2ch-message-header-separator を
	使うように。
	(navi2ch-message-beginning-of-line): 新関数。
	(navi2ch-message-back-to-indentation): 同上。
	(navi2ch-message-mode-map):
	navi2ch-message-beginning-of-line,
	navi2ch-message-back-to-indentation を追加。

	* navi2ch-util.el (navi2ch-read-only-string): 新関数。

	<http://pc5.2ch.net/test/read.cgi/unix/1106152504/136>
	<http://sourceforge.net/tracker/index.php?func=detail&aid=1115437&group_id=39552&atid=435774>

2005-02-02  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	sendlog を書くときの message の format する関数を指定できるように。
	message separator の書式をちょっと変更。
	* navi2ch-message.el (navi2ch-message-add-sendlog):
	navi2ch-message-sendlog-message-format-function を funcall するよ
	うに。
	(navi2ch-message-sendlog-simple-message-format): 新関数。
	(navi2ch-message-sendlog-message-format-with-board-name): 同上。

	* navi2ch-vars.el
	(navi2ch-message-sendlog-message-format-function):
	新変数。

	* navi2ch-article.el (navi2ch-article-insert-message-separator):
	navi2ch-article-insert-hide-number-following をここで呼ぶようにした。
	(navi2ch-article-insert-hide-number-following): 頭のセパレータはやめ。
	挿入したときに non-nil を返すように。
	(navi2ch-article-insert-message-separator-by-face):
	引数の number を削除。
	navi2ch-article-insert-hide-number-following を呼ぶのをやめた。
	(navi2ch-article-insert-message-separator-by-char): 同上。

	(navi2ch-article-delete-message): コメント付けた。

2005-02-01  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-article.el
	(navi2ch-article-insert-hide-number-following):
	number を 必須にした。
	hide 情報の取得を navi2ch-article-message-filter-mode で切り替える
	ように。
	頭にちょっとだけセパレータを入れてみる。
	hide -> hidden (^^;
	(navi2ch-article-update-previous-message-separator): 新関数。
	(navi2ch-article-insert-message-separator): 同上。
	(navi2ch-article-insert-message):
	navi2ch-article-insert-message-separator-function への funcall を
	navi2ch-article-insert-message-separatorに置き換え。
	suppress されていたときに、
	navi2ch-article-update-previous-message-separator を呼ぶように。
	(navi2ch-article-hide-message):
	navi2ch-article-update-previous-message-separator を呼ぶように。

2005-01-30  mami  <mami@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-insert-message-separator-by-char): 区切り文字の文
	字数が負になることがあったので対処。

2005-01-28  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-article.el
	(navi2ch-article-insert-hide-number-following): 新関数。
	(navi2ch-article-insert-message-separator-by-face):
	navi2ch-article-insert-hide-number-following を呼ぶように。
	(navi2ch-article-insert-message-separator-by-char): 同上。

2005-01-26  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-list.el (navi2ch-list-insert-board-names-subr):
	navi2ch-list-display-board-id-p が non-nil だったら、板IDを表示し
	てみるように。

	* navi2ch-vars.el (navi2ch-list-invalid-host-regexp): コメントの
	typo 修正。
	(navi2ch-list-display-board-id-p): 新変数。
	(navi2ch-list-board-id-column): 同上。

2005-01-25  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	BE への書き込みで文字ばけないようにする修正。
	* navi2ch-multibbs.el (navi2ch-2ch-send-message):
	navi2ch-board-get-coding-system の結果を
	navi2ch-net-get-param-string に渡すように。

	* navi2ch-net.el (navi2ch-net-url-hexify-string):
	引数の coding-system がある場合は、それで encode するように。
	(navi2ch-net-get-param-string): coding-system を
	navi2ch-net-url-hexify-string に渡すように。

2005-01-25  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	BE のログイン、書き込み対応。
	multibbs module としては作ってない。
	他の multibbs module に変更を加えないために、
	navi2ch-2ch-send-message, navi2ch-2ch-send-message-success-p での
	coding-system の判別に navi2ch-2ch-send-message-last-board を使っ
	てる。
	これらの関数に board を渡すようにしたほうがいいのかな？

	* Makefile.am (lisp_LISP): navi2ch-be2ch.el を追加。

	* navi2ch.el (toplevel): navi2ch-be2ch を rquire するように。

	* navi2ch-multibbs.el
	(navi2ch-multibbs-send-message-error-string): 新関数。
	(navi2ch-multibbs-send-message): navi2ch-coding-system のかわりに
	navi2ch-board-get-coding-system を使うように。
	エラー文字列の取得に navi2ch-multibbs-send-message-error-string を
	使うように。
	(navi2ch-2ch-send-message-last-board): 新変数。
	(navi2ch-2ch-send-message): navi2ch-2ch-send-message-last-board に
	値を設定するように。
	cookie に navi2ch-be2ch-mdmd, navi2ch-be2ch-dmdm を設定するように。
	(navi2ch-2ch-send-message-success-p):
	navi2ch-2ch-send-message-last-board の値を使って、coding-system を
	特定するように。
	(navi2ch-2ch-send-message-error-string): 同上。

	* navi2ch-net.el
	(navi2ch-net-send-message-success-p):
	引数に coding-system をもらえるように。
	引数の coding-system で文字列を decode するように。
	(navi2ch-net-send-message-error-string): 同上。
	「ログインエラー」をチェックする文字列に追加。
	http status によるチェックを navi2ch-multibbs-send-message-error-string に移動。

	* navi2ch-be2ch.el:
	新ファイル。be@2ch のログインまわりを担当する。

2005-01-25  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* Makefile.am, configure.in:
	バイトコンパイルを２回やらないように。
	http://sourceforge.net/tracker/index.php?func=detail&aid=1107635&group_id=39552&atid=435774

	* config.guess, config.sub, elisp-comp, install-sh, missing,
	* mkinstalldirs: automake 1.9.2, autoconf 2.59 に付属のものに更新

2005-01-23  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	* navi2ch-multibbs.el (toplevel): cl を require。

2005-01-22  extra  <ekisutora@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-get-number-list): 
	数字部分が8文字以上のレスアンカーで、正しくレス番を指せないバグを修正。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/929

2005-01-22  Taiki SUGAWARA  <taiki.s@cityfujisawa.ne.jp>

	復活記念という事で。
	とりあえずの BE 対応。というか、文字コード指定対応。
	navi2ch-board-coding-system-alist に板ID と coding-system を登録す
	ることで板に対する文字コードを指定できる。

	保存するときに文字コードを変換するんだと、差分更新に対応するのが面
	倒なので、開くときに指定できるようにする。
	ただ、現状 navi2ch-multibbs-defcallback されている BBS を
	navi2ch-board-coding-system-alist に登録すると文字化けしちゃうはず。

	* navi2ch-search.el (navi2ch-search-article-regexp):
	navi2ch-board-insert-file-contents を使うように。
	(navi2ch-search-cache):
	navi2ch-article-get-first-message-from-file に board を渡すように。
	(navi2ch-search-orphan): 同上。

	* navi2ch-bookmark.el (navi2ch-bookmark-fetch-article):
	navi2ch-article-get-first-message-from-file に board を渡すように。

	* navi2ch-article.el
	(navi2ch-article-get-first-message-from-file):
	引数に board を貰えるように。
	(navi2ch-article-get-message-list):
	navi2ch-board-insert-file-contents を使うように。

	(navi2ch-article-cached-subject-minimum-size):
	board と article を引数に貰うように。
	navi2ch-board-insert-file-contents を使うように。
	(navi2ch-article-cached-subject): 上記関数の変更に対応。

	* navi2ch-board.el (navi2ch-board-get-coding-system): 新関数。
	(navi2ch-board-insert-file-contents): 新関数。
	(navi2ch-board-get-subject-list):
	navi2ch-board-insert-file-contents を使うように。
	(navi2ch-board-save-old-subject-file):
	navi2ch-board-get-coding-system,
	navi2ch-board-insert-file-contents を使うように。

	* navi2ch-util.el (navi2ch-insert-file-contents):
	coding-system を指定できるように。
	指定されていない場合は今まで通り、navi2ch-coding-system を使う。

	* navi2ch-vars.el (navi2ch-board-coding-system-alist): 新変数。

2004-12-13  mami  <mami@users.sourceforge.net>

	* navi2ch-board.el (navi2ch-board-expire):
	navi2ch-board-expire-date を引くべきところを足していたのを修正。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/845

2004-12-12  mami  <mami@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-make-mode-line-identification): 新関数として分離。
	(navi2ch-article-set-mode-line): 上記関数を使うように。

	* navi2ch-message.el
	(navi2ch-message-make-mode-line-identification): 新関数として分離。
	(navi2ch-message-write-message): 上記関数を使うように。

2004-12-12  mami  <mami@users.sourceforge.net>

	* navi2ch-net.el (navi2ch-net-send-message-error-string): 文字列が
	取得できなかったときは HTTP status を返すように。

2004-12-12  mami  <mami@users.sourceforge.net>

	* navi2ch-board.el (navi2ch-board-expire): 
	navi2ch-board-expire-orphan-only が nil のとき expire されないバグ
	を修正。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/748

2004-11-21  mami  <mami@users.sourceforge.net>

	* navi2ch-list.el (navi2ch-list-get-etc-category):
	navi2ch-list-etc-file-name に navi2ch-directory の外のファイルを指
	定したときに正しく動作するように。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/744-746n

2004-11-21  mami  <mami@users.sourceforge.net>

	* navi2ch-message.el (navi2ch-message-cite-original-from-number):
	プロンプトの文頭を大文字に。

	* navi2ch-board-misc.el (navi2ch-bm-textize-mark-article): 同上。
	(navi2ch-bm-mark-by-query): 同上。

	* navi2ch-article.el (navi2ch-article-select-view-range-subr): 同
	上。
	(navi2ch-article-goto-number): 同上。

2004-10-26  mami  <mami@users.sourceforge.net>

	* navi2ch-articles.el (navi2ch-articles-remove-article): 新関数。
	(navi2ch-articles-remove-mark-article): 同上。
	(navi2ch-articles-mode-map): 上記関数をバインド。

2004-10-26  mami  <mami@users.sourceforge.net>

	* navi2ch-articles.el (navi2ch-articles-get-article): バッファが削
	除されていたときエラーとならないように。
	(navi2ch-articles-get-board): 同上。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/671

2004-10-18  mami  <mami@users.sourceforge.net>

	* navi2ch.el (navi2ch-update): メッセージ調整。
	(navi2ch-toggle-offline): 同上。
	(navi2ch-lock): 同上。

2004-10-17  mami  <mami@users.sourceforge.net>

	* navi2ch*.el: checkdoc と目視でメッセージ調整、docstring 調整、コ
	メント調整。

	* navi2ch-oyster.el (navi2ch-oyster-get-offlaw-url): 引き数の変数
	名を変更。

2004-10-12  mami  <mami@users.sourceforge.net>

	* configure.in: 1.7.5-DEV にアップデート。

2004-10-12  mami  <mami@users.sourceforge.net>

	* navi2ch: 1.7.5 リリース。
	* configure.in: 1.7.5 にアップデート。

2004-10-10  mami  <mami@users.sourceforge.net>

	* NEWS: 更新。

2004-10-09  mami  <mami@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-expand-file-name): expand した結果が
	navi2ch-directory の外のときはエラーに。
	/../ などを含む URL 対策。

	* navi2ch.el (navi2ch-2ch-url-p): ホスト名がないときは nil に。
	http:///〜 などの URL 対策。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/555

2004-10-08  mami  <mami@users.sourceforge.net>

	* NEWS: 更新。

2004-10-06  mami  <mami@users.sourceforge.net>

	* navi2ch-jbbs-shitaraba.el (navi2ch-js-host-list): 新変数。
	(navi2ch-js-p): 上記変数を使うように。

	* navi2ch-history.el (navi2ch-history-cut-mark-article): 新関数。
	(navi2ch-history-mode-map): 上記関数をバインド。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/550

	* navi2ch-bookmark.el (navi2ch-bookmark-delete-mark-article): 新関
	数。
	(navi2ch-bookmark-mode-map): 上記関数をバインド。 

2004-09-28  mami  <mami@users.sourceforge.net>

	* navi2ch-jbbs-shitaraba.el (navi2ch-js-p):
	http://jbbs.livedoor.jp/ に対応。
	http://jbbs.livedoor.jp/bbs/read.cgi/computer/351/1040452916/181

	* navi2ch-history.el (navi2ch-history-mode-map): キーバインド変更。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/506-511n

2004-09-12  mami  <mami@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-decode-coding-region-linewise): 新関数。

	* navi2ch-multibbs.el (navi2ch-multibbs-defcallback): XEmacs では
	上記関数を使うように。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/461-463n
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/487

2004-08-26  mami  <mami@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist):
	amazon.co.jp への URL の最後に / を含めるように。

2004-08-25  mami  <mami@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-parse-message): JBBS@したら
	ばのキャップやトリップもフォント変更するように。

2004-08-19  mami  <mami@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-goto-number-or-board):
	デフォルト値も入力値もなかった場合はメッセージを出さないように。
	存在しない板が入力されたときのメッセージを変更。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/410-414n

2004-08-18  mami  <mami@users.sourceforge.net>

	* configure.in: 1.7.4-DEV にアップデート。

2004-08-18  mami  <mami@users.sourceforge.net>

	* navi2ch: 1.7.4 リリース。
	* configure.in: 1.7.4 にアップデート。

2004-08-08  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-list-invalid-host-regexp): 新変数

	* navi2ch-list.el (navi2ch-list-valid-board): 上記変数を使用。

2004-08-06  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-set-link-property): h?t?tps?
	以外の場合、リンクが貼られないのを修正。
	(navi2ch-article-disable-display-link-commands):
	navi2ch-article-select-current-link を追加。

	* navi2ch-multibbs.el
	(navi2ch-multibbs-send-message-retry-confirm-function): typo 修正。
	(navi2ch-multibbs-send-message-retry-confirm): 新関数。
	(navi2ch-multibbs-send-message): 上記関数を使用。

	* navi2ch-net.el (navi2ch-net-get-content): Connection ヘッダが
	"close" かを検査。
	(navi2ch-net-update-file-diff): last から substring を取るのは
	cont の方が短い場合のみに。

	* navi2ch-util.el (navi2ch-add-days-to-time): 夏時間でも動くように。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): ASIN は
	[0-9A-Z]。

	* navi2ch-vars.el (navi2ch-article-url-regexp): "(" ")" を URL の
	一部と見なさないように。
	(navi2ch-article-link-regexp-alist): 同上。

2004-08-05  mami  <mami@users.sourceforge.net>

	* NEWS: 更新。

2004-08-04  mami  <mami@users.sourceforge.net>

	* navi2ch-popup-article.el (navi2ch-popup-article-mode-map):
	[(shift iso-lefttab)] に navi2ch-article-previous-link をバインド。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/325

2004-08-03  mami  <mami@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-select-current-link-number):
	navi2ch-article-select-current-link-number-style が 'jump で
	navi2ch-article-redraw-when-goto-number が nil の場合、リンク先レ
	スが表示されてないときに popup せず表示範囲を広げるように。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/154

2004-07-23  mami  <mami@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-get-article-length): 新関数。
	(navi2ch-article-str-to-num): 上記関数を使ってレス数を得るように。
	popup から popup するときレス数が少なくなってしまうバグの修正。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/155

2004-07-16  mami  <mami@users.sourceforge.net>

	board 系モードで、スレのない最下行での U の挙動を修正。

	* navi2ch-board-misc.el (navi2ch-bm-show-url-subr): a と l で
	article が存在しない行のときは nil を返すように。
	(navi2ch-bm-show-url): 上記で nil が返ってきたときはメッセージを出
	して終了するように。

	* navi2ch-article.el (navi2ch-article-copy-title): a と A で
	article が存在しない行のときはメッセージを出して終了するように。

2004-07-13  mami  <mami@users.sourceforge.net>

	* navi2ch-jbbs-shitaraba.el (navi2ch-js-p):
	http://jbbs.livedoor.com/ に対応。
	http://pc5.2ch.net/test/read.cgi/unix/1085940686/259

2004-05-30  mami  <mami@users.sourceforge.net>

	* navi2ch-bookmark.el (navi2ch-bookmark-delete-bookmark):
	save-excursion を save-current-buffer に変更。
	navi2ch-list-delete-global-bookmark したときにカーソル位置が移動し
	ないように。

2004-05-29  miz  <miz@users.sourceforge.net>

	* navi2ch-oyster.el ●サーバ移転対応

2004-05-09  Nanashi San  <nanashi@users.sourceforge.net>

	* README: UNIX 板の URL を更新。

2004-05-05  Nanashi San  <nanashi@users.sourceforge.net>

	* configure.in: 1.7.3-DEV にアップデート。

2004-05-05  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch: 1.7.3 リリース。
	* configure.in: 1.7.3 にアップデート。

	* navi2ch-util.el (navi2ch-set-mode-line-identification):
	navi2ch-mode-line-identification を値ではなくシンボルとして
	mode-line-buffer-identification に設定。
	http://pc3.2ch.net/test/read.cgi/unix/1075905430/813

	* navi2ch-multibbs.el
	(navi2ch-multibbs-send-message-retry-comfirm-function): 新変数。
	(navi2ch-multibbs-send-message): 上記変数を使用。

2004-05-02  Nanashi San  <nanashi@users.sourceforge.net>

	* NEWS: 更新。

	* *.el: (defvar *-ident ...) -> (defconst *-ident ...)

	* 各種ファイル: Copyright 更新。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): バグ持ちの
	regexp-opt-depth() の場合は nil に。

	* navi2ch-net.el (navi2ch-net-update-file-diff-size): 新変数。
	(navi2ch-net-update-file-diff): 1 バイトかつ \n 固定ではなく、上記
	変数のサイズに従い元のファイルにオーバーラップさせて取得。
	あぼーん後にたまたま前回取得の終端位置が "\n" になったので、精度を
	上げてみた。

	* navi2ch-article.el (navi2ch-article-set-link-property): literal
	を初期化するように。
	(navi2ch-article-view-article): エラーの後始末をする。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): URL の頭の
	ime.nu を削除。

2004-04-30  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist):
	amazon.co.jp への URL を正規化。

2004-04-29  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-face.el (navi2ch-article-header-fusianasan-face):
	新 face。

	* navi2ch-article.el (navi2ch-article-parse-message): ふしあなさん
	らしき部分に印を付けておく。
	(navi2ch-article-default-header-format-function): 印の付いた部分に
	navi2ch-article-header-fusianasan-face を付ける。

	* Makefile.am ($(srcdir)/navi2ch-version.el): maintainer mode が有
	効な時のみ更新。
	($(srcdir)/bcomp.el): 同上。

	* navi2ch.el (navi2ch-update): pgp 等が利用できる場合は検証する。

	* navi2ch-util.el (navi2ch-verify-signature-file): 新関数。

	* navi2ch-vars.el (navi2ch-pgp-verify-command-line): 新変数。

	* navi2ch-net.el (navi2ch-net-download-file): time に文字列だけで
	はなく current-time() 形式も許す。
	(navi2ch-net-update-file): time が 'file なら更新するファイルの更
	新日時を用いる。
	(navi2ch-net-download-logo): SETTING.TXT も保存しておく。

	* navi2ch-util.el (navi2ch-coding-system): 可能であれば cp932 を使
	用。
	* navi2ch-futaba.el (navi2ch-futaba-variable-alist): 'shift_jis で
	はなく navi2ch-coding-system を使用。

	* navi2ch-jbbs-net.el (navi2ch-jbbs-variable-alist): 同上。

	* navi2ch-localfile.el (navi2ch-localfile-variable-alist): 同上。
	(navi2ch-localfile-coding-system): 同上。

	* navi2ch-machibbs.el (navi2ch-machibbs-variable-alist): 同上。

	* navi2ch-oyster.el (navi2ch-oyster-variable-alist): 同上。

	* navi2ch-jbbs-shitaraba.el (navi2ch-js-coding-system): 新変数。
	可能であれば eucjp-ms を使用。
	(navi2ch-js-variable-alist): 'euc-japan ではなく上記変数を使用。
	(navi2ch-js-send-message): 同上。
	(navi2ch-js-send-message-error-string): 同上。

	* navi2ch-oyster.el (navi2ch-oyster-update-file-with-offlaw):
	navi2ch-net-get-content() の結果を unibyte のまま扱うように。

	* navi2ch-net.el (navi2ch-net-get-content): 結果を unibyte のまま
	返すように。
	(navi2ch-net-update-file): navi2ch-net-get-content() の結果を
	unibyte のまま扱うように。
	(navi2ch-net-update-file-with-readcgi): 同上。
	(navi2ch-net-update-file-diff): 同上。
	差分更新と関数での変換は両立しないので、func 引数を削除。

	* navi2ch-multibbs.el (navi2ch-multibbs-defcallback): 変換元バッファ
	を unibyte として扱い、{decode,encode}-coding-region() に応じて適宜
	navi2ch-set-buffer-multibyte() を呼び出すように。

2004-04-29  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-caller-p): 新関数。
	(navi2ch-compare-version-string): 新関数。

	* navi2ch-article.el (navi2ch-article-set-link-property): 置換先が
	関数だった場合はその返却値の \ を特別扱いしない。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): docstring、
	custom の設定を修正。
	(navi2ch-article-url-regexp): RFC 2396 に準拠。

2004-04-25  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-disable-display-link-commands):
	navi2ch-article-show-url-at-point → navi2ch-show-url-at-point

	* navi2ch-util.el (navi2ch-disabled-key): 新関数。

	* navi2ch-vars.el (navi2ch-global-map): "C-xC-e" に ignore ではな
	く、上記関数をバインド。

	* navi2ch.el (navi2ch-url-at-point): 新関数。
	(navi2ch-show-url-at-point): 新関数。

	* navi2ch-popup-article.el (navi2ch-popup-article-mode-map): "u"
	を navi2ch-show-url-at-point に変更。
	(navi2ch-popup-article-url-at-point): 新関数。
	(navi2ch-popup-article-show-url-at-point): 削除。

	* navi2ch-list.el (navi2ch-list-url-at-point): 新関数。

	* navi2ch-board-misc.el (navi2ch-bm-url-at-point): 新関数。

	* navi2ch-article.el (navi2ch-article-cleanup-message): 削る行頭の
	空白は一つだけに。
	(navi2ch-article-mode-map): u を navi2ch-show-url-at-point に変更。
	(navi2ch-article-url-at-point): docfix
	(navi2ch-article-show-url-at-point): 削除。

	* navi2ch-net.el (navi2ch-open-network-stream-via-command):
	navi2ch-open-network-stream-command の自由度を上げた。

	* navi2ch-vars.el (navi2ch-open-network-stream-command): 上記変更
	について docstring および custom type を変更。

	* navi2ch-article.el (navi2ch-article-set-link-property): cdr が関
	数だった場合はその返却値を利用するように。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): 上記変更に
	ついて docstring 変更。
	<http://pc3.2ch.net/test/read.cgi/unix/1075905430/740>

2004-04-24  Nanashi San  <nanashi@users.sourceforge.net>

	ネットワーク接続に外部コマンドや自前関数を使えるようにしてみた。

	* navi2ch-message.el (navi2ch-message-send-message): レスをポスト
	する前後で接続を閉じる。

	* navi2ch-net.el (navi2ch-open-network-stream-with-retry):
	navi2ch-open-network-stream から名称変更。
	(navi2ch-open-network-stream-via-command): 新関数。
	(navi2ch-net-send-request): process-status が run の時も実行。
	(navi2ch-net-send-request): process-status が run の時も除外。
	navi2ch-open-network-stream-function を使用。
	(navi2ch-net-get-status): process-status が run の時もループ。
	(navi2ch-net-get-header): 同上。
	(navi2ch-net-get-chunk): 同上。
	(navi2ch-net-get-content): 同上。

	* navi2ch-vars.el (navi2ch-open-network-stream-function): 新変数。
	(navi2ch-open-network-stream-command): 新変数。

2004-04-24  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-net.el (navi2ch-open-network-stream): 新関数。
	EINPROGRESS、EALREADY の場合は再試行する。
	(navi2ch-net-send-request): 上記関数を使用。

2004-04-23  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-disable-display-link-commands): eval-expression
	を追加。

	* navi2ch-board-misc.el (navi2ch-bm-select-article-or-scroll): こ
	こではエラーを無視すべきではない。
	(navi2ch-bm-remove-article-subr): file-error のみを無視。

	* navi2ch-board.el (navi2ch-board-expire-date-p): current-time()
	形式で比較。
	(navi2ch-board-expire): 同上。

	* navi2ch-util.el (navi2ch-replace-html-tag-regexp-alist): <?...>
	や <!...> も空文字列に。
	(navi2ch-make-sortable-date): 削除。
	(navi2ch-make-datevec): 削除。
	(navi2ch-get-offset-datevec): 削除。
	(navi2ch-compare-number-list): 新関数。
	(navi2ch-lists-to-list-of-list): 新関数。
	(navi2ch-add-number-lists): 新関数。
	(navi2ch-compare-times): navi2ch-compare-number-list() を使用。
	(navi2ch-add-days-to-time): 新関数。

2004-04-21  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-multibbs.el (navi2ch-multibbs-send-message): cookie 要求
	のメッセージを表示し、同意を求める。(結構不穏な事書いてあります)
	(navi2ch-2ch-send-message): cookie の expire を確認。

	* navi2ch-oyster.el (navi2ch-oyster-send-message): 同上。

	* navi2ch-net.el (navi2ch-net-send-message-get-spid): cookie の
	expire 日時も返す。

	* navi2ch.el (navi2ch): navi2ch-auto-update が nil の時、lock が行
	われなかったのを修正。
	<http://pc3.2ch.net/test/read.cgi/unix/1075905430/667>

2004-04-17  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-truncate-string-to-width): 新関数。
	XEmacs の truncate-string-to-width が壊れているので。

	* navi2ch-message.el (navi2ch-message-insert-aa-list): 上記関数を
	使用。

	* README: UNIX 板の URL を更新。

2004-04-14  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-popup-dialog): "" だとセパレー
	タになってしまうそうなので。
	<http://pc3.2ch.net/test/read.cgi/unix/1075905430/465>

	* navi2ch-splash.el (navi2ch-splash-copyright-notice): Navi2ch
	Project 以外の Copyright holder についての説明文を挿入。
	(navi2ch-splash-insert-text): 縦センタリングの計算方法を変更。

	* navi2ch-vars.el (navi2ch-global-view-map): delete 系のキーをキー
	ボードマクロとして登録するのをやめる。

	* navi2ch-util.el (navi2ch-delete-keys): 新変数。
	(navi2ch-define-delete-keys): 新関数。
	(navi2ch-read-char): 入力されたキーを表示できるか検査。

	* navi2ch-article.el (navi2ch-article-mode-map): 上記関数を使用。

	* navi2ch-board-misc.el (navi2ch-bm-mode-map): 同上。

	* navi2ch-popup-article.el (navi2ch-popup-article-mode-map): 同上。

	* navi2ch-list.el (navi2ch-list-mode-map): 同上。

2004-04-14  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-mode-map):
	`navi2ch-article-show-url-at-point' をバインド。
	(navi2ch-article-get-number-list): 新関数。
	(navi2ch-article-select-current-link): 上記関数を使用。
	(navi2ch-article-get-link-text-subr): 同上。
	(navi2ch-article-number-list-to-url): 新関数。
	(navi2ch-article-select-current-link-number): 上記関数を使用。
	(navi2ch-article-disable-display-link-commands): 新変数。
	(navi2ch-article-display-link-minibuffer): 上記変数に含まれるコマ
	ンドの後はミニバッファを更新しないように。
	(navi2ch-article-url-at-point): 新関数。
	(navi2ch-article-show-url-at-point): 新関数。

	* navi2ch-popup-article.el (navi2ch-popup-article-mode-map):
	`navi2ch-popup-article-show-url-at-point' をバインド。
	(navi2ch-popup-article-show-url): 新関数。

2004-04-11  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-set-keymap-default-binding): GNU Emacs
	でのデフォルト動作指定を (define-key map [t] command) に。

	* navi2ch-article.el (navi2ch-article-message-filter-by-message):
	append 末尾の nil は不要。

2004-04-09  Nanashi San  <nanashi@users.sourceforge.net>

	マクロの使用を未評価の引数が必要な場合のみに制限。

	* navi2ch-util.el (navi2ch-mouse-key): 新関数。
	(navi2ch-define-mouse-key): 上記関数を使うように。
	マクロ→関数。
	(navi2ch-set-buffer-multibyte): マクロ→エイリアス
	(navi2ch-string-as-unibyte): 同上
	(navi2ch-string-as-multibyte): 同上
	(navi2ch-make-sortable-date): マクロ→関数
	(navi2ch-match-string-no-properties): マクロ→インライン関数

	* navi2ch-mona.el (navi2ch-find-face): マクロ→エイリアス
	(navi2ch-mona-char-height): マクロ→関数
	(navi2ch-set-face-parent): 同上

2004-04-09  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch.el (navi2ch): condition-case して signal すると
	debug-on-* が signal の部分になるので unwind-protect を使用。

	* navi2ch-util.el (navi2ch-add-replace-html-tag): regexp-opt のバ
	グへに再び対処。この関数の実行時間はそれほど重要ではないので、まず
	regexp-opt がエラーを起こすかどうかを試し、regexp-opt を使うか
	regexp-quote を使うかを判別する。

2004-04-08  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-global-view-map):
	[del] [delete] [backspace] で "\d" が入力されるように。
	* (上記の子 map): scrolldown 系のバインドは "\d" のみに。

	* navi2ch-board-misc.el (navi2ch-bm-get-state-from-article): 新関数。
	(navi2ch-bm-insert-subject): 上記関数を使用。
	(navi2ch-bm-update-article): 新関数。
	(navi2ch-bm-remove-article-subr): 上記関数を使用。
	(navi2ch-bm-remove-article): 不要な更新を削除。

	* navi2ch-article.el (navi2ch-article-view-article):
	navi2ch-bm-update-article を使用。
	(navi2ch-article-kill-buffer-hook): 同上。
	(navi2ch-article-remove-article): 不要な更新を削除。

	* navi2ch-util.el (navi2ch-match-regexp-alist-subr): key は整数な
	ので assq を使用。
	(navi2ch-update-html-tag-regexp): 新関数。
	(navi2ch-add-replace-html-tag-regexp): 上記関数を使うように。
	(navi2ch-add-replace-html-tag): 同上。
	regexp-opt のバグに由来する work around を削除。

	* navi2ch-net.el (navi2ch-net-ignore-errors): make-symbol したシン
	ボルを使用。ちょっと書き直し。
	(navi2ch-net-url-unreserved-chars): 準拠仕様を RFC 2396 に。
	(navi2ch-net-url-hexify-string): ちょっと書き直し。
	(navi2ch-net-get-param-string): 「=」の左辺もエスケープ。

2004-04-05  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-re-search-forward-regexp-alist): 再マッ
	チ時、ポイントの移動を減らす。
	(navi2ch-string-match-regexp-alist): 同上。
	(navi2ch-replace-regexp-alist): 関数を呼び出す場合、マッチした文字
	列を引数として渡すように。

	* navi2ch-message.el (navi2ch-message-mode-map): C-c y → C-c C-j
	ユーザー予約キーを避ける。
	<http://pc3.2ch.net/test/read.cgi/unix/1075905430/528>

2004-04-04  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-set-link-property): マッチし
	た後、少なくとも 1 文字は進めるように。

	* navi2ch.el (navi2ch-goto-url): デフォルト値として、カーソル下の
	URL プロパティを使用。

	* navi2ch-article.el (navi2ch-article-set-link-property):
	regexp-alist をあらかじめ内部形式に変換しておく。
	置換先が nil の場合は何もしない。

	* navi2ch-util.el (navi2ch-regexp-alist-to-number-alist): 新関数。
	(navi2ch-match-regexp-alist-subr): 上記関数を使用。
	(navi2ch-replace-regexp-alist): regexp-alist をあらかじめ内部形式
	に変換しておく。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): <> の間に
	「:」を含まない文字列は URL と見なさない。

2004-04-03  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-set-link-property): 複数の正
	規表現をまとめて検索するように。navi2ch-article-link-regexp-alist
	を使用して URL ではない物にもリンクを貼れるように。

	* navi2ch-vars.el (navi2ch-article-link-regexp-alist): 新変数。

	* navi2ch-util.el (navi2ch-match-regexp-alist-subr): 新関数。
	(navi2ch-re-search-forward-regexp-alist): 新関数。
	(navi2ch-string-match-regexp-alist): 新関数。
	(navi2ch-replace-regexp-alist): 新関数。

2004-03-30  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-2ch-host-list):
	pc.2ch.net pc2.2ch.net 追加。

	* navi2ch-board.el (navi2ch-board-url-to-board):
	navi2ch-list-board-name-list を使ってそれっぽい名前を付けるように。

2004-03-28  mami  <mami@users.sourceforge.net>

	* navi2ch-jbbs-net.el
	(navi2ch-jbbs-url-regexp): 新変数。
	(navi2ch-jbbs-get-writecgi-url): 新関数。
	(navi2ch-jbbs-send-message): 上記を使うように。
	http://pc3.2ch.net/test/read.cgi/unix/1075905430/452

	(navi2ch-jbbs-func-alist): error-string を削除。
	(navi2ch-jbbs-send-message): Cookie に NAME と MAIL を追加。
	MESSAGE が二重になっていたので片方を削除。

2004-03-28  mami  <mami@users.sourceforge.net>

	* ChangeLog: ChangeLog.1, ChangeLog.2 に分割。

2004-03-28  mami  <mami@users.sourceforge.net>

	* navi2ch-jbbs-shitaraba.el
	透明あぼーんの検出を改良。
	新形式 URL に対応。rawmode.cgi に対応。ID を表示するように。
	http://jbbs.shitaraba.com/bbs/read.cgi/computer/351/1040452916/126-140n

	(navi2ch-js-get-writecgi-url): 廃止。
	(navi2ch-js-get-cgi-url): 新関数。
	(navi2ch-js-send-message): 上記を使い、引き数を渡すように。
	http://jbbs.shitaraba.com/bbs/read.cgi/computer/351/1040452916/129-133n

	(navi2ch-js-article-to-url-subr): 新関数。新形式 URL に対応。
	(navi2ch-js-article-to-url): 上記を使うように。
	(navi2ch-js-article-to-rawmode-url): 新関数。

	(navi2ch-js-parse-regexp): rawmode.cgi の出力に対応。
	(navi2ch-js-article-callback): 2番目の引き数を取得開始レス番に変更
	し、透明あぼーんの検出を改良。
	rawmode.cgi の出力に対応。ID を表示するように。
	(navi2ch-js-article-callback-diff): 上記変更にともない廃止。
	(navi2ch-js-article-update): navi2ch-js-article-to-rawmode-url を
	使うように。差分取得のとき navi2ch-js-article-callback に start を
	つけて呼ぶように。
	(navi2ch-js-parse-subject-regexp): 廃止。
	(navi2ch-js-parse-subject): 同上。
	(navi2ch-js-make-article): 同上。

2004-03-25  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-list-moved-board-alist): 新変数。
	キーが旧 URL、値が新 URL の alist。

	* navi2ch-list.el (navi2ch-list-make-board-txt): 上記変数を使用し
	て移転した板の URL を変更できるように。

2004-03-24  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-splash.el (navi2ch-splash-copyright-notice):
	著作権表示と無保証条項を追加。
	(navi2ch-splash-logo-ascii):
	24 行の端末でも上記が全て表示されるように。

2004-03-23  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el (navi2ch-article-message-filter-by-message):
	navi2ch-article-message-filter-subr() の引数が副作用で並べかえられ
	るのでとりあえず修正。
	<http://pc3.2ch.net/test/read.cgi/unix/1075905430/349>

2004-03-21  Nanashi San  <nanashi@users.sourceforge.net>

	* configure.in: 1.7.2-DEV にアップデート。

2004-03-21  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch: 1.7.2 リリース。
	* configure.in: 1.7.2 にアップデート。

2004-03-19  Nanashi San  <nanashi@users.sourceforge.net>

	* 今年に入ってから更新されてるファイル: Copyright 更新
	* NEWS: 更新

2004-03-18  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-article.el
	(navi2ch-article-default-message-filter-by-message-alist): 新変数。
	(navi2ch-article-message-filter-by-message): 上記変数を使うように。

	* navi2ch-vars.el (navi2ch-global-map): Navi2ch 内では C-xC-e を
	unbound。

2004-03-18  NOKUBI Takatsugu  <knok@daionet.gr.jp>

	* navi2ch.el: eval-last-sexp, shell-command に advice 追加。
	  セキュリティ対策。
	* 上記 commit を取消し。

2004-03-12  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-right-align-strings): 新関数。
	(navi2ch-right-aligned-string<): 新関数。
	(navi2ch-right-aligned-string=): 新関数。
	(navi2ch-compare-strings): 削除。
	* navi2ch-directory.el (navi2ch-directory-set-subject-list):
	上記関数を使うように。
	* navi2ch-search.el (navi2ch-search-for-each-article): 同上。

2004-03-10  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-compare-strings): 新関数。
	文字列を右寄せにして比較。

	* navi2ch-directory.el (navi2ch-directory-set-subject-list):
	板 ID が数字であると仮定していたので、上記関数を使うように。

	* navi2ch-search.el (navi2ch-search-for-each-article): 板中のスレ
	をスレの立った日時が新しい順にソート。

2004-03-05  mami  <mami@users.sourceforge.net>

	* navi2ch-list.el (navi2ch-list-ignore-category-list): 板カテゴリ
	再編にともない「運営」を「運営案内」に変更。
	http://qb3.2ch.net/test/read.cgi/operate/1077986839/105

2004-02-29  Nanashi San  <nanashi@users.sourceforge.net>

	* configure.in (AC_PREREQ): Autoconf 2.53 以降を要求。

	* Makefile.am (AUTOMAKE_OPTIONS): Automake 1.5 以降を要求。

2004-02-28  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-mona.el (navi2ch-mona-enable-list): 新変数。
	(navi2ch-mona-disable-list): 新変数。
	(navi2ch-mona-match-p): 新関数。
	(navi2ch-mona-arrange-message): 上記を使用し、
	navi2ch-mona-{enable,disable}-{board,article}-list より一般化した
	条件でモナーフォントを有効にするかどうかを判断。

	* navi2ch-article.el (navi2ch-article-display-link-minibuffer):
	isearch 中はリンク先を表示しない。

	* navi2ch-util.el (navi2ch-replace-html-tag-regexp-alist):
	英字から始まる場合のみ HTML タグとみなす。
	東アジアnews+ <http://news2.2ch.net/news4plus/> の名無しさんに対応。

	* navi2ch-search.el (navi2ch-search-all-board-list): 結果を逆順に。

2004-02-15  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-search.el (navi2ch-search-subject-subr): 引数に板リスト
	を得る関数を渡せるように。
	(navi2ch-search-article-subr): 同上。
	(navi2ch-search-all-subject): 上記関数を使うように。
	(navi2ch-search-all-article): 同上。
	全ての板で検索する場合、"a" を押してから "regexp:" のプロンプトが
	出るまでにラグがあるのを軽減。

2004-01-17  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-vars.el (navi2ch-article-url-regexp):
	ftp:// にもマッチするように。

2004-01-13  Nanashi San  <nanashi@users.sourceforge.net>

	* navi2ch-util.el (navi2ch-set-mode-line-identification):
	navi2ch-mode-line-identification 中の % をエスケープするように。

$Id$
